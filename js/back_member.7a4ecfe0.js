(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["back_member"],{"1dde":function(t,e,a){var n=a("d039"),o=a("b622"),s=a("2d00"),r=o("species");t.exports=function(t){return s>=51||!n((function(){var e=[],a=e.constructor={};return a[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"37c9":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("vs-table",{attrs:{data:t.datas},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.data;return t._l(n,(function(e,o){return a("vs-tr",{key:o},[a("vs-td",{attrs:{data:n[o].name}},[e.edit?a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.name,expression:"tr.model.name"}],attrs:{type:"text"},domProps:{value:e.model.name},on:{input:function(a){a.target.composing||t.$set(e.model,"name",a.target.value)}}}):t._e(),e.edit?t._e():a("span",[t._v(t._s(n[o].name))])]),a("vs-td",{attrs:{data:n[o].account}},[e.edit?a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.account,expression:"tr.model.account"}],attrs:{type:"text"},domProps:{value:e.model.account},on:{input:function(a){a.target.composing||t.$set(e.model,"account",a.target.value)}}}):t._e(),e.edit?t._e():a("span",[t._v(t._s(n[o].account))])]),a("vs-td",{attrs:{data:n[o].email}},[e.edit?a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.email,expression:"tr.model.email"}],attrs:{type:"text"},domProps:{value:e.model.email},on:{input:function(a){a.target.composing||t.$set(e.model,"email",a.target.value)}}}):t._e(),e.edit?t._e():a("span",[t._v(t._s(n[o].email))])]),a("vs-td",{attrs:{data:n[o].phone}},[e.edit?a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.phone,expression:"tr.model.phone"}],attrs:{type:"text"},domProps:{value:e.model.phone},on:{input:function(a){a.target.composing||t.$set(e.model,"phone",a.target.value)}}}):t._e(),e.edit?t._e():a("span",[t._v(t._s(n[o].phone))])]),a("vs-td",{attrs:{data:n[o]}},[e.edit?a("vs-button",{staticClass:"mx-1",attrs:{color:"danger",type:"filled"},on:{click:function(a){return t.cancel(e,o)}}},[t._v("取消")]):a("vs-button",{staticClass:"mx-1",attrs:{color:"success",type:"filled"},on:{click:function(a){return t.edit(e,o)}}},[t._v("編輯")]),e.edit?a("vs-button",{staticClass:"mx-1",attrs:{color:"success",type:"filled"},on:{click:function(a){return t.update(e,o)}}},[t._v("更新")]):a("vs-button",{staticClass:"mx-1",attrs:{color:"danger",type:"filled"},on:{click:function(e){return t.del(o)}}},[t._v("刪除")])],1)],1)}))}}])},[a("template",{slot:"header"},[a("h3",{staticClass:"member_management"},[t._v(" 會員管理 ")])]),a("template",{slot:"thead"},[a("vs-th",[t._v(" Name ")]),a("vs-th",[t._v(" Account ")]),a("vs-th",[t._v(" Email ")]),a("vs-th",[t._v(" Phone ")])],1)],2)],1)},o=[],s=(a("d81d"),a("b0c0"),{data:function(){return{index:"",datas:[],selectid:""}},mounted:function(){var t=this;this.axios.post("https://restaurantpeggy.herokuapp.com/getuser").then((function(e){t.datas=e.data.result.map((function(t){return{name:t.name,account:t.account,email:t.email,phone:t.phone,edit:!1,model:{name:t.name,account:t.account,email:t.email,phone:t.phone}}}))})).catch((function(e){t.$vs.dialog("錯誤","".concat(e.response.data.message),"error")}))},methods:{del:function(t){this.selectid=t,this.$vs.dialog({type:"confirm",color:"danger",title:"確認刪除",text:"確認刪除此會員嗎",accept:this.acceptAlert})},acceptAlert:function(t){var e=this;this.$vs.notify({color:"primary",title:"已刪除",text:"已順利刪除所選項目"}),console.log(this.datas[this.selectid].account),this.axios.post("https://restaurantpeggy.herokuapp.comdeleteuser",{account:this.datas[this.selectid].account}).then((function(t){t.data.success&&e.axios.post("https://restaurantpeggy.herokuapp.comgetuser").catch((function(){alert("發生錯誤")}))})).catch((function(){alert("發生錯誤")}))},edit:function(t){t.edit=!0},update:function(t,e){var a=this;console.log(e),this.axios.patch("https://restaurantpeggy.herokuapp.comupdateuser",t).then((function(n){t.edit=!1,a.datas[e].name=t.model.name,a.datas[e].account=t.model.account,a.datas[e].email=t.model.email,a.datas[e].phone=t.model.phone})).catch((function(t){console.log(t),alert("發生錯誤")}))},cancel:function(t,e){t.edit=!1,t.model.name=this.datas[e].name,t.model.account=this.datas[e].account,t.model.email=this.datas[e].email,t.model.phone=this.datas[e].phone}}}),r=s,c=a("2877"),i=Object(c["a"])(r,n,o,!1,null,null,null);e["default"]=i.exports},"65f0":function(t,e,a){var n=a("861d"),o=a("e8b5"),s=a("b622"),r=s("species");t.exports=function(t,e){var a;return o(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!o(a.prototype)?n(a)&&(a=a[r],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},b727:function(t,e,a){var n=a("0366"),o=a("44ad"),s=a("7b0b"),r=a("50c4"),c=a("65f0"),i=[].push,d=function(t){var e=1==t,a=2==t,d=3==t,u=4==t,l=6==t,m=5==t||l;return function(p,v,f,h){for(var g,_,y=s(p),x=o(y),b=n(v,f,3),k=r(x.length),w=0,A=h||c,$=e?A(p,k):a?A(p,0):void 0;k>w;w++)if((m||w in x)&&(g=x[w],_=b(g,w,y),t))if(e)$[w]=_;else if(_)switch(t){case 3:return!0;case 5:return g;case 6:return w;case 2:i.call($,g)}else if(u)return!1;return l?-1:d||u?u:$}};t.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6)}},d81d:function(t,e,a){"use strict";var n=a("23e7"),o=a("b727").map,s=a("1dde"),r=a("ae40"),c=s("map"),i=r("map");n({target:"Array",proto:!0,forced:!c||!i},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(t,e,a){var n=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}}}]);
//# sourceMappingURL=back_member.7a4ecfe0.js.map